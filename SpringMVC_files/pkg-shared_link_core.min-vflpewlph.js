define("modules/clean/open_in_app/actions",["require","exports","modules/clean/open_in_app/types","modules/clean/open_in_mobile_app"],function(e,n,t,i){"use strict";function o(){var e=navigator.userAgent||"",n=e.match(/OS (\d+)_(\d+)_?(\d+)?/);return!n||parseInt(n[1],10)>=9}function r(e,n){var r=n.onAppNeeded,a=n.onAppInstalled;t.areUrlsIOS(e)?i.open_ios(e.iOSAppUrl,e.iOSAppStoreUrl,o(),r,a):t.areUrlsAndroid(e)&&i.open_android_intent(e.androidAppUrl)}function a(e){var n;if(t.areUrlsIOS(e))n=e.iOSAppUrl;else{if(!t.areUrlsAndroid(e))return;n=e.androidAppUrl}var i=document.createElement("iframe");i.setAttribute("class","open-in-app-transport"),i.setAttribute("src",n),i.setAttribute("style","display: none"),document.body.appendChild(i)}function s(){i.cleanup()}Object.defineProperty(n,"__esModule",{value:!0}),n.openInApp=r,n.openImmediately=a,n.cleanUp=s}),define("modules/clean/open_in_app/types",["require","exports","modules/constants/file_viewer"],function(e,n,t){"use strict";function i(e){return e.platform===r.IPAD||e.platform===r.IPHONE}function o(e){return e.platform===r.ANDROID_MARKET}Object.defineProperty(n,"__esModule",{value:!0});var r=t.OpenInMobileAppPlatform;n.areUrlsIOS=i,n.areUrlsAndroid=o}),define("modules/clean/open_in_mobile_app",["require","exports","jquery","modules/clean/analytics","modules/core/exception","modules/core/i18n"],function(e,n,t,i,o,r){"use strict";var a=(function(){function e(){}return e.initClass=function(){var e=this;this.vischange_listener=null,this.open_app_mode=!0,this.try_open_ios_9=function(n,t,i,o){return void 0===i&&(i=function(){}),void 0===o&&(o=function(){}),e.vischange_listener||(e.vischange_listener=function(n){return e.open_app_mode=!0,o()},document.addEventListener("visibilitychange",e.vischange_listener)),e.open_app_mode?(e.open_app_mode=!1,e._onOpenLoggingHandler(),i(),window.location=n):(e._onInstallLoggingHandler(),window.location=t)},this.fallback_will_launch=!1,this.try_open=function(n,o,r){if(e._onOpenLoggingHandler(),!e.fallback_will_launch){var a=t("body"),s=function(){var e=t("<iframe />",{src:n,style:"display: none;"});return a.append(e)},l=!1,c=function(e){return l=!0};document.addEventListener("visibilitychange",c);var u=!1,p=function(e){return u=!0};window.addEventListener("pagehide",p),null!=r&&i.ShareTibEventLogger.log_unauth("CLICK_MOBILE_OPEN","WEB_MOBILE",{scl_url:r}),s();var d=Date.now(),_=function(){if(e.fallback_will_launch=!1,document.removeEventListener("visibilitychange",c),window.removeEventListener("pagehide",p),!u&&!l&&Date.now()<d+4700)return null!=r&&i.ShareTibEventLogger.log_unauth("CLICK_MOBILE_INSTALL","WEB_MOBILE",{scl_url:r}),window.location.replace(o)};return setTimeout(_,3200),e.fallback_will_launch=!0}}},e._onOpenLoggingHandler=function(){},e._onInstallLoggingHandler=function(){},e.registerLoggingHandlers=function(e,n){return this._onOpenLoggingHandler=e,this._onInstallLoggingHandler=n},e.open_on_click=function(e,n,i,o,a,s,l){var c=this;void 0===s&&(s=null);var u=function(i){if(i.preventDefault(),l)return c.open_android_intent(l);if(a){o||(o=t("<div/>"));var u=o.text();return c.try_open_ios_9(e,n,function(){return o.text(r._("Install app?"))},function(){return o.text(u)})}return c.try_open(e,n,s)};return t(i).on("click",u)},e.open_ios=function(e,n,t,i,o){return void 0===i&&(i=function(){}),void 0===o&&(o=function(){}),t?this.try_open_ios_9(e,n,i,o):this.try_open(e,n)},e.open_android_intent=function(e){return o.assert(e&&e.startsWith("intent://www.dropbox.com/sm/launch_intent_or_fallback_page"),"intentUrl must use intent:// protocol"),this._onOpenLoggingHandler&&this._onOpenLoggingHandler(),window.location.href=e},e.redirect_on_load=function(e,n){return this.try_open(e,n)},e.cleanup=function(){if(this.vischange_listener)return document.removeEventListener("visibilitychange",this.vischange_listener)},e})();return a.initClass(),a}),define("modules/clean/previews/path_context_utils",["require","exports","modules/clean/previews/constants","modules/core/browser"],function(e,n,t,i){"use strict";function o(){var e=i.get_uri().path;return/^\/(home|work|personal|search)/.test(e)?t.PathContext.Browse:/^\/(s|scl\/fi)\//.test(e)?t.PathContext.SharedLinkFile:/^\/(sh|scl\/fo)\//.test(e)?t.PathContext.SharedLinkFolder:/^\/sc\//.test(e)?t.PathContext.SharedLinkCollection:/^\/history/.test(e)?t.PathContext.VersionHistory:void 0}Object.defineProperty(n,"__esModule",{value:!0}),n.determinePathContext=o}),define("modules/clean/previews/responsive_utils",["require","exports","modules/constants/file_viewer","modules/clean/previews/constants","modules/clean/previews/path_context_utils"],function(e,n,t,i,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isResponsiveEnabled=function(){var e=o.determinePathContext();return e!==i.PathContext.VersionHistory&&e!==i.PathContext.SharedLinkCollection&&(!(e===i.PathContext.Browse&&!t.RESPONSIVE_FILE_VIEWER_ENABLED)&&(!(e===i.PathContext.SharedLinkFolder&&!t.RESPONSIVE_FOLDER_SHARED_LINK_ENABLED)&&!(e===i.PathContext.SharedLinkFile&&!t.RESPONSIVE_SHARED_LINK_ENABLED)))}}),define("modules/clean/react/file_viewer/constants",["require","exports","modules/clean/react/size_class/constants","modules/clean/previews/constants"],function(e,n,t,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});(function(e){e.Setup="SETUP",e.Cleanup="CLEANUP",e.UpdateFiles="UPDATE_FILES",e.FlipNext="FLIP_NEXT",e.FlipPrevious="FLIP_PREVIOUS",e.OpenFullscreen="OPEN_FULLSCREEN",e.CloseFullscreen="CLOSE_FULLSCREEN",e.SwitchRevision="SWITCH_REVISION",e.RestoreRevision="RESTORE_REVISION",e.FastForwardRevision="FAST_FORWARD_REVISION",e.BroadcastRenderStatus="BROADCAST_RENDER_STATUS",e.HideOpenInAppBanner="HIDE_OPEN_IN_APP_BANNER",e.ClosePreviewQualityPopup="CLOSE_PREVIEW_QUALITY_POPUP"})(n.ActionType||(n.ActionType={}));(function(e){e[e.Unknown=0]="Unknown",e[e.Succeeded=1]="Succeeded"})(n.PreviewRenderStatus||(n.PreviewRenderStatus={}));(function(e){e.FileViewerOpened="FILE_VIEWER_OPENED",e.FilePreviewSessionEnded="FILE_PREVIEW_SESSION_ENDED",e.FilePreviewAttemptStarted="FILE_PREVIEW_ATTEMPT_STARTED",e.FilePreviewSupportConfirmed="FILE_PREVIEW_SUPPORT_CONFIRMED",e.FilePreviewSupportDenied="FILE_PREVIEW_SUPPORT_DENIED",e.FilePreviewDownloadAttempted="FILE_PREVIEW_DOWNLOAD_ATTEMPTED",e.FilePreviewDownloadSucceeded="FILE_PREVIEW_DOWNLOAD_SUCCEEDED",e.FilePreviewDownloadFailed="FILE_PREVIEW_DOWNLOAD_FAILED",e.FilePreviewRenderSucceeded="FILE_PREVIEW_RENDER_SUCCEEDED",e.FilePreviewRenderFailed="FILE_PREVIEW_RENDER_FAILED",e.FilePreviewPASSShown="FILE_PREVIEW_PASS_SHOWN",e.FilePreviewPASSHover="FILE_PREVIEW_PASS_HOVER",e.FilePreviewPASSClick="FILE_PREVIEW_PASS_CLICK",e.BrowsePASSShown="BROWSE_PASS_SHOWN",e.BrowsePASSHover="BROWSE_PASS_HOVER",e.BrowsePASSClick="BROWSE_PASS_CLICK",e.FilePreviewQualityPopupAsked="FILE_PREVIEW_QUALITY_POPUP_ASKED",e.FilePreviewQualityPopupAnswered="FILE_PREVIEW_QUALITY_POPUP_ANSWERED",e.FilePreviewQualityPopupDismissed="FILE_PREVIEW_QUALITY_POPUP_DISMISSED",e.FilePreviewUserAction="FILE_PREVIEW_USER_ACTION",e.FilePreviewVideoStalled="FILE_PREVIEW_VIDEO_STALLED",e.FilePreviewVideoTruncated="FILE_PREVIEW_VIDEO_TRUNCATED",e.ArchivePreviewContentsScanned="ARCHIVE_PREVIEW_CONTENTS_SCANNED"})(n.EventType||(n.EventType={}));(function(e){e.ExcelHTML="test-workbook.html"})(n.CannedTestFilename||(n.CannedTestFilename={}));(function(e){e[e.Frame=0]="Frame",e[e.Window=1]="Window"})(n.FileViewerInterfaceType||(n.FileViewerInterfaceType={}));(function(e){e[e.TitleBar=0]="TitleBar",e[e.PreviewContent=1]="PreviewContent",e[e.Sidebar=2]="Sidebar"})(n.FileViewerPane||(n.FileViewerPane={}));(function(e){e.AppDownloadInterstitialClose="app_download_interstitial_close",e.AppDownloadInterstitialContinue="app_download_interstitial_continue",e.AppDownloadInterstitialGetTheApp="app_download_interstitial_get_the_app",e.AppDownloadInterstitialView="app_download_interstitial_view",e.ArchiveNavigation="archive_navigation",e.Share="share",e.Download="download",e.SaveToDropbox="save_to_dropbox",e.SaveToDropboxPersonal="save_to_dropbox_personal",e.SaveToDropboxWork="save_to_dropbox_work",e.OpenInApp="open_in_app",e.OpenInOfficeOnline="open_in_office_online",e.OpenInUnity="open_in_unity",e.OpenInUnityFolder="open_in_unity_folder",e.RemoveLink="remove_link",e.ViewRevisions="view_revisions",e.ClickDropboxLogo="click_dropbox_logo",e.ClickCustomLogo="click_custom_logo",e.ToggleCommentsOn="toggle_comments_on",e.ToggleCommentsOff="toggle_comments_off",e.SignIn="sign_in",e.ClickNotifications="click_notifications",e.ClickAccountMenu="click_account_menu",e.ToggleFullscreenOn="toggle_fullscreen_on",e.ToggleFullscreenOff="toggle_fullscreen_off",e.ToggleSidebarOn="toggle_sidebar_on",e.ToggleSidebarOff="toggle_sidebar_off",e.Print="print",e.InlineSearch="inline_search",e.FlipNext="flip_next",e.FlipPrevious="flip_prev",e.ZoomIn="zoom_in",e.ZoomOut="zoom_out"})(n.UserAction||(n.UserAction={}));(function(e){e.AppDownloadInterstitial="app_download_interstitial",e.TitleBarMain="title_bar_main",e.TitleBarSplitButton="title_bar_open_split_button",e.TitleBarMore="title_bar_more",e.PreviewContentMain="preview_content_main",e.PreviewContentSplitButton="preview_content_open_split_button",e.Toolbar="toolbar",e.VideoPlayer="video_player",e.OpenInAppBanner="open_in_app_banner",e.LightboxFrame="lightbox_frame",e.LightboxToolbar="lightbox_toolbar",e.LightboxCloseButton="lightbox_close_button",e.Sidebar="sidebar",e.Keyboard="keyboard",e.Browser="browser",e.Unknown="unknown"})(n.UserActionContext||(n.UserActionContext={}));(function(e){e[e.Main=0]="Main",e[e.Split=1]="Split"})(n.SplitButtonActionLocation||(n.SplitButtonActionLocation={}));n.SizeClassFilenameLengthMap=(o={},o[t.SizeClass.Small]=12,o[t.SizeClass.Medium]=25,o[t.SizeClass.Large]=35,o),n.ResponsiveClassName="responsive-enabled",n.PathContext=i.PathContext,n.SubpathQueryKey="file_subpath",n.UnsupportedExtensionHelpLink="https://www.dropbox.com/help/files-folders/file-types-that-preview";(function(e){e.default="default",e.spp="spp",e.spreadsheet="spreadsheet",e.html="html"})(n.DocType||(n.DocType={}));var o}),define("modules/clean/react/file_viewer/location_utils",["require","exports","modules/clean/react/file_viewer/constants","modules/clean/history","modules/core/exception"],function(e,n,t,i,o){"use strict";function r(e){return e.query.preview}function a(e,n){return e?e+"/"+n:"/"+n}function s(e,n){if(e&&!(n<=0))return e.split("/").slice(0,n+1).join("/")}function l(e){u(c(e))}function c(e){var n=i.get_uri();return e?n.updateQuery(t.SubpathQueryKey,e):n.removeQuery(t.SubpathQueryKey),n}function u(e){i.push_state(e.getPath(),e.getQuery())}function p(e){var n,i=e.query[t.SubpathQueryKey];return n=i instanceof Array?i.length?i[0]:void 0:i,n&&0!==n.indexOf("/")?void o.reportStack("path malformed",{severity:o.SEVERITY.NONCRITICAL,exc_extra:{fileSubpath:n}}):n}Object.defineProperty(n,"__esModule",{value:!0}),n.getFilenameFromLocation=r,n.addToFileSubpath=a,n.truncateFileSubpath=s,n.updateFileSubpathQuery=l,n.getFileSubpath=p}),define("modules/clean/react/location/types",["require","exports"],function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=(function(){function e(e,n){this.path=e,this.query=n}return e.fromURI=function(n){return new e(n.getPath(),n.getQuery())},e})();n.Location=t}),define("modules/clean/react/location/with_location",["require","exports","tslib","external/react","modules/clean/react/location/types","modules/clean/react/size_class/utils","modules/core/browser","modules/clean/history"],function(e,n,t,i,o,r,a,s){"use strict";function l(e){return(function(n){function l(e){var t=n.call(this,e)||this;t.onLocationChange=function(e,n){t.setState({location:new o.Location(e,n)})};var i=a.get_uri(),r=i.getPath();return t.basePathComponent="/"+r.split("/")[1],t.state={location:o.Location.fromURI(i)},t}return t.__extends(l,n),l.prototype.componentDidMount=function(){s.add_callback(this.basePathComponent,this.onLocationChange,!0)},l.prototype.componentWillUnmount=function(){s.remove_callback(this.basePathComponent,this.onLocationChange)},l.prototype.render=function(){return i.createElement(e,t.__assign({},this.props,{location:this.state.location}))},l.displayName="WithLocation("+r.getDisplayName(e)+")",l})(i.Component)}Object.defineProperty(n,"__esModule",{value:!0}),n.withLocation=l}),define("modules/clean/react/open_in_app/banner",["require","exports","tslib","external/react","modules/clean/react/css","modules/clean/open_in_app/actions","modules/core/i18n"],function(e,n,t,i,o,r,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=(function(e){function n(n){var t=e.call(this,n)||this;return t.handleAppRedirect=function(){t.props.onClick&&t.props.onClick(),r.openInApp(t.props.urls,{onAppNeeded:function(){return t.setState({showInstallAppText:!0})},onAppInstalled:function(){return t.setState({showInstallAppText:!1})}})},t.state={showInstallAppText:!1},t}return t.__extends(n,e),n.prototype.componentWillUnmount=function(){r.cleanUp()},n.prototype.render=function(){return i.createElement("div",{className:"open-in-app-banner-container"},i.createElement("button",{className:"button-as-link open-in-app-banner-text",onClick:this.handleAppRedirect},this.state.showInstallAppText?a._("Get the Dropbox App"):a._("View In App")),i.createElement("button",{className:"button-as-link open-in-app-banner-close","aria-label":"Close",onClick:this.props.onClose}))},n})(i.Component),l=["/static/css/open_in_app/banner-vflZQkrls.css"],c=o(s,l);n.OpenInAppBanner=c}),define("modules/clean/react/previews/constants",["require","exports"],function(e,n){"use strict";function t(e){return s[e]}function i(e){return l[e]}function o(e){return u[e]}Object.defineProperty(n,"__esModule",{value:!0});(function(e){e.LoadError="LOAD_ERROR",e.SupportError="SUPPORT_ERROR",e.ExtensionError="EXTENSION_ERROR",e.NeedFlashError="NEED_FLASH_ERROR",e.FileSizeError="FILE_SIZE_ERROR",e.PasswordProtectedError="PASSWORD_PROTECTED_ERROR",e.PendingUploadError="PENDING_UPLOAD_ERROR",e.EmptyFileError="EMPTY_FILE_ERROR"})(n.ErrorType||(n.ErrorType={}));var r;(function(e){e[e.Browse=0]="Browse",e[e.SharedLinkFile=1]="SharedLinkFile",e[e.SharedLinkFolder=2]="SharedLinkFolder",e[e.SharedLinkCollection=3]="SharedLinkCollection",e[e.VersionHistory=4]="VersionHistory",e[e.FileViewer=5]="FileViewer",e[e.Desktop=6]="Desktop",e[e.EmbeddedSharedLinkFile=7]="EmbeddedSharedLinkFile"})(r=n.PreviewSourceContext||(n.PreviewSourceContext={}));var a;(function(e){e[e.Visit=0]="Visit",e[e.Click=1]="Click"})(a=n.PreviewSourceAction||(n.PreviewSourceAction={}));var s=[];s[r.Browse]="browse",s[r.SharedLinkFile]="sl_file",s[r.SharedLinkFolder]="sl_folder",s[r.SharedLinkCollection]="sl_collection",s[r.VersionHistory]="version_history",s[r.FileViewer]="file_viewer",s[r.Desktop]="desktop",s[r.EmbeddedSharedLinkFile]="embedded_sl_file",n.getPreviewSourceContextKey=t;var l=[];l[a.Visit]="visit",l[a.Click]="click",n.getPreviewSourceActionKey=i;var c;(function(e){e[e.Unknown=0]="Unknown",e[e.NewFile=1]="NewFile",e[e.BeforeUnload=2]="BeforeUnload",e[e.Unmount=3]="Unmount"})(c=n.PreviewSessionEndReason||(n.PreviewSessionEndReason={}));(function(e){e[e.Unknown=0]="Unknown",e[e.OK=1]="OK",e[e.ConversionFailure=2]="ConversionFailure",e[e.TemporaryFailure=3]="TemporaryFailure",e[e.InternalFailure=4]="InternalFailure",e[e.UnsupportedFormat=5]="UnsupportedFormat",e[e.Timeout=6]="Timeout",e[e.TooBig=7]="TooBig",e[e.InvalidMetadata=8]="InvalidMetadata",e[e.SourceCorrupt=9]="SourceCorrupt",e[e.TimeBudgetExceeded=10]="TimeBudgetExceeded",e[e.NotFound=11]="NotFound",e[e.PasswordProtected=12]="PasswordProtected"})(n.RivieraPreviewResponseType||(n.RivieraPreviewResponseType={}));var u=[];u[c.Unknown]="unknown",u[c.NewFile]="new_file",u[c.BeforeUnload]="before_unload",u[c.Unmount]="unmount",n.getSessionEndReasonLoggingKey=o,n.HYPERLINK_REGEX_STRING="(?:(?:https?)://)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?",n.EMAIL_REGEX_STRING="[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,63}"}),define("modules/clean/react/size_class/constants",["require","exports"],function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});(function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"})(n.SizeClass||(n.SizeClass={})),n.MEDIA_SIZE_CLASS_MEDIUM="screen and (min-width: 736px) and (max-width: 1023px)",n.MEDIA_SIZE_CLASS_LARGE="screen and (min-width: 1024px)"}),define("modules/clean/react/size_class/size_class",["require","exports","tslib","external/react","external/classnames","external/hoist-non-react-statics","external/spectrum/match","modules/clean/react/size_class/constants","modules/clean/react/size_class/utils","modules/clean/react/size_class/utils"],function(e,n,t,i,o,r,a,s,l,c){"use strict";function u(e,n){return void 0===n&&(n={}),r((function(r){function u(){var n=null!==r&&r.apply(this,arguments)||this;return n.displayName="WithSizeClass("+c.getDisplayName(e),n.state={},n.getHandleMatch=function(e,t){return function(){n.setState((i={},i[e]=t,i));var i}},n.onMatchMedium=n.getHandleMatch("matchSizeClassMedium",!0),n.onUnmatchMedium=n.getHandleMatch("matchSizeClassMedium",!1),n.onMatchLarge=n.getHandleMatch("matchSizeClassLarge",!0),n.onUnmatchLarge=n.getHandleMatch("matchSizeClassLarge",!1),n}return t.__extends(u,r),u.prototype.render=function(){var r=n.isResponsiveEnabled,c=n.responsiveClassName,u=void 0===c?"":c;return i.createElement("div",{className:o((p={},p[u]=!r||r(),p))},i.createElement(a.Match,{media:s.MEDIA_SIZE_CLASS_MEDIUM,onMatch:this.onMatchMedium,onUnmatch:this.onUnmatchMedium}),i.createElement(a.Match,{media:s.MEDIA_SIZE_CLASS_LARGE,onMatch:this.onMatchLarge,onUnmatch:this.onUnmatchLarge}),i.createElement(e,t.__assign({},this.props,{sizeClass:l.getSizeClass(this.state.matchSizeClassMedium,this.state.matchSizeClassLarge,r)})));var p},u})(i.Component),e)}Object.defineProperty(n,"__esModule",{value:!0}),n.withSizeClass=u}),define("modules/clean/react/size_class/utils",["require","exports","modules/clean/react/size_class/constants"],function(e,n,t){"use strict";function i(e,n,i){return i&&!i()?t.SizeClass.Large:n?t.SizeClass.Large:e?t.SizeClass.Medium:t.SizeClass.Small}function o(e){return e.displayName||e.name||"Component"}Object.defineProperty(n,"__esModule",{value:!0}),n.getSizeClass=i,n.getDisplayName=o});
//# sourceMappingURL=pkg-shared_link_core.min.js-vflcmTVWR.map